const YatraIntro=(()=>{let t=null,e=null,n=-1,o=null,a=null,l=null,i=5,s=null,r=!0,d=null,c=null,f=null;const y=function(e,n){t=p(e),n&&"object"==typeof n&&(n.padding&&"number"==typeof n.padding&&(i=n.padding),Object.keys(n).includes("allowSkip")&&(r=n.allowSkip),n.customModal&&(!function(t){try{const e=document.createElement("div");return e.classList.add("validating-custom-modal"),e.innerHTML=t,e.querySelector("validating-custom-modal>#yatra-data-control")&&e.querySelector("#yatra-data-control>#yatra-data-content")&&e.querySelector("#yatra-data-control>#yatra-data__next")&&e.querySelector("#yatra-data-control>#yatra-data__back")}catch(t){return!1}}(n.customModal)?console.error("Invalid custom modal, reverting to default settings..."):s=n.customModal))};return y.prototype.start=function(){m(),g()},y.prototype.next=function(){g()},y.prototype.skip=function(){L()},y.prototype.previous=function(){E()},y.prototype.activeElement=function(){return t[n].e},y.prototype.jumpTo=function(e){if(-1===n&&m(),e>=0&&e<=t.length-1)return n=Number(e),l=x(),b(),void v();console.warn("Invalid index")},y;function u(t){const e=document.createElement("div");return e.classList.add(t),e.id=t,document.body.appendChild(e),e}function m(){n=-1,t=p(elements),document.body.innerHTML+=s||'\n        <div id="yatra-data-control" class="yatra-data-control">\n            <div id="yatra-data-content"></div>\n            <div class="yatra-data-controls">\n                <div id="yatra-data__next">Next</div>\n                <div id="yatra-data__back">Back</div>\n            </div>\n        </div>\n        ',d=document.getElementById("yatra-data-content"),c=document.getElementById("yatra-data__next"),f=document.getElementById("yatra-data__back"),o=document.getElementById("yatra-data-control"),a=u("yatra-hover-element-overlay");const e=u("yatra-overlay-div");r||(e.style.cursor="auto"),function(){window.addEventListener("resize",v,!0),document.getElementById("yatra-overlay-div").addEventListener("click",h.bind(this)),c.addEventListener("click",g.bind(this),!0),f.addEventListener("click",E.bind(this),!0)}()}function p(t){let e=[];return t.forEach((t,n)=>{t.selector.split(" ").forEach((o,a)=>{[...document.getElementsByClassName(o)].forEach((o,l)=>{const i=`YATRA-${n}-${a}-${l}`;o.classList.add(i),e.push({element:i,message:t.message,e:document.getElementsByClassName(i)[0]})})})}),e}function v(){B(l);const e=t[n];e&&w(document.getElementsByClassName(e.element)[0])}function h(){r&&L()}function g(){if(n<t.length-1)return n+=1,b(),void(l=x());L()}function E(){n>0&&(n-=1,l=x()),b()}function L(){n=-1,e=!1,function(){window.removeEventListener("resize",v,!0),document.getElementById("yatra-overlay-div").removeEventListener("click",h.bind(this)),a.removeEventListener("transitionend",()=>{}),t.forEach(t=>document.getElementsByClassName(t.element)[0].classList.remove(t.element)),c.removeEventListener("click",g.bind(this),!0),f.removeEventListener("click",E.bind(this),!0)}(),document.getElementById("yatra-data-control").remove(),document.getElementById("yatra-hover-element-overlay").remove(),document.getElementById("yatra-overlay-div").remove(),$()}function x(){$();const o=document.getElementsByClassName(t[n].element)[0];return e||(e=!0,o.classList.add("yatra-active-place"),a.addEventListener("transitionend",()=>{document.getElementsByClassName(t[n].element)[0].classList.add("yatra-active-place")})),window.scrollTo({top:o.offsetTop,left:o.offsetLeft,behavior:"smooth"}),d.innerHTML=t[n].message,w(o),B(o),o}function b(){0===n?(f.style.opacity="0",f.style.pointerEvents="none"):(f.style.opacity="1",f.style.pointerEvents="all"),n===t.length-1?c.innerHTML="Done":c.innerHTML="Next"}function w(t){window.elementelement=t;const e=t.getClientRects()[0];a.style.width=e.width+"px",a.style.borderRadius=t.style.borderRadius,a.style.height=e.height+"px",a.style.left=t.offsetLeft+"px",a.style.top=t.offsetTop+"px"}function B(t){if(o){if(!t)return void o.classList.add("yatra-display-none");o.classList.remove("yatra-display-none"),function(t){const e=t.getClientRects()[0];o.classList.remove("yatra-modal-in-between");const n=document.querySelector("html"),a=n.scrollWidth,l=n.scrollHeight;if(e.bottom+o.offsetHeight+i<l)return o.style.top=`${t.offsetTop+t.offsetHeight+i}px`,void(t.offsetLeft+o.offsetWidth<a?o.style.left=`${t.offsetLeft}px`:o.style.left=`${e.right-o.offsetWidth}px`);if(e.top-o.offsetHeight-i>0)return o.style.top=`${t.offsetTop-o.offsetHeight-i}px`,void(e.left+o.offsetWidth<a?o.style.left=`${e.left}px`:o.style.left=`${e.right-o.offsetWidth}px`);if(e.right+o.offsetWidth+i<a)return o.style.top=`${e.top}px`,void(o.style.left=`${e.left+e.width+i}px`);e.left-o.offsetWidth-i>0?(o.style.top=`${e.top}px`,o.style.left=`${e.left-o.offsetWidth-i}px`):(o.style.top=`${e.top}px`,o.style.left=`${e.left}px`,o.classList.add("yatra-modal-in-between"))}(t)}}function $(){l&&l.classList.remove("yatra-active-place")}})();export default YatraIntro;